<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:Disfigure.GUI.Client.ViewModels;assembly=Disfigure.GUI.Client"
        xmlns:ctrls="clr-namespace:Disfigure.GUI.Client.Views;assembly=Disfigure.GUI.Client"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Disfigure.GUI.Client.Views.MainWindow"
        Title="MainWindow"
        Background="{DynamicResource ThemePrimary}">

    <Window.DataContext>
        <vm:ClientModuleViewModel />
    </Window.DataContext>

    <DockPanel>
        <ctrls:ControlBoxView DockPanel.Dock="Bottom" DataContext="{Binding MessageBoxViewModel}" />

        <TabControl DockPanel.Dock="Bottom" Items="{Binding ConnectionViewModels}" TabStripPlacement="Bottom">
            <TabControl.Styles>
                <Style Selector="TabControl WrapPanel">
                    <Setter Property="Background" Value="{DynamicResource ThemeAccent}" />
                </Style>

                <Style Selector="TabItem">
                    <Setter Property="Background" Value="Transparent" />
                </Style>
                <Style Selector="TabItem:pointerover">
                    <Setter Property="Background" Value="{DynamicResource ThemeHighlight}" />
                </Style>
                <Style Selector="TabItem:focus">
                    <Setter Property="Background" Value="{DynamicResource ThemeHighlight}" />
                </Style>
                <Style Selector="TabItem:selected">
                    <Setter Property="Background" Value="{DynamicResource ThemeHighlight}" />
                </Style>
            </TabControl.Styles>
            <TabControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding FriendlyName, Mode=OneWay}" HorizontalAlignment="Center" />
                </DataTemplate>
            </TabControl.ItemTemplate>
            <TabControl.ContentTemplate>
                <DataTemplate>
                    <ctrls:ConnectionMessagesView DataContext="{Binding}" />
                </DataTemplate>
            </TabControl.ContentTemplate>
        </TabControl>
    </DockPanel>
</Window>